<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		
	</head>
	
	<body>
	{% load DB_connect %}
		<div class="location_form">
		  <h1>Fill Out Your Location Details</h1>
		  
		  
		  <select id="country" onchange="alert();">
			<option value=""> Select Country </option>
		  {% for con in country %}
		    <option value="{{con.1}}"> {{con.0}} </option>
			{% endfor%}
		  </select>
		  
		  <div id="state">
		  <select id="statedd" onchange="state()">
			<option value=""> Select State</option>
		  </select>
		 </div>
		 
		  <div id="city">
		  <select id="citydd" onchange="city()">
			<option value=""> Select city</option>
		  </select>
		 </div>
		  
		  
		  <input type="submit" id="submit" onclick="submit()">
		 
		</div>
		<div id="location_details"></div>
		
		<script type="text/javascript">
	

function country(){
var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("state").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "/country/"+document.getElementById("country").value, true);
  xhttp.send();
}

function state(){
var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
		
      document.getElementById("city").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "/state/"+document.getElementById("statedd").value, true);
  xhttp.send();
}



</script>
		
  </body>
</html>
  
